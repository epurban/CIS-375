doctype html  
html(lang='en')
	head
		title HelloCoding
		meta(charset="utf-8")
		meta(name="viewport", content="width=device-width, initial-scale=1")
		link(rel="stylesheet", href="css/bootstrap.min.css")
		link(rel="stylesheet", href="css/home.css")
		script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js')
		script(src='js/bootstrap.min.js')
		script(src='js/ace/ace.js')
	body
	nav(class="navbar navbar-dark bg-primary")
		span(class="navbar-brand mb-0 h1")
			img(src="images/logo.svg", width="30", height="30", alt="HelloCoding")
		img(src="images/user.png", alt="Test")

	br
	
	div.container
		div.row
			div.col-sm-4#problem
				h4 First Challenge - C++
				p Use a for loop to print "123454321" to the console.
			div.col-sm-8
				div#editor
					p= startingcode

		form(id="codepost", action="/compile", method="POST")
			input(id="code" type="hidden", name="code", value="")
		
		div(class="row justify-content-end")
			button(type="button", id="btnrun", class="btn", onclick="compileCode();") Run
		h5 Output
		div(id="output", class="card")
			div.card-block
				if success == true
					p#outputmessage= "SUCCESS: " + outputmessage
				else
					p#outputmessage= outputmessage
	
	script(type="text/javascript").
		var editor = ace.edit("editor");
		editor.setTheme("ace/theme/tomorrow");
		editor.getSession().setMode("ace/mode/c_cpp");
		
		function compileCode() {
			var codetext = editor.getValue();
			document.getElementById("outputmessage").innerHTML = "Compiling...";
		    document.getElementById("code").value = codetext;
			console.log(codetext);
		    document.getElementById("codepost").submit();
		}